(function(t){function e(e){for(var r,a,i=e[0],u=e[1],s=e[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},c={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),c=n.n(r);c.a},"1f60":function(t,e,n){},"3b9b":function(t,e,n){"use strict";var r=n("1f60"),c=n.n(r);c.a},"55e3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h3",[t._v("猜你喜欢")]),n("productList"),n("Cart")],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-list"},[n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper"},t._l(t.products,(function(t){return n("product",{key:t.id,attrs:{product:t}})})),1),n("div",{staticClass:"swiper-button-prev"}),n("div",{staticClass:"swiper-button-next"})])])},i=[],u=n("5530"),s=n("b619"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product swiper-slide"},[n("img",{attrs:{src:t.product.imgUrl}}),n("p",{staticClass:"p-name"},[t._v(t._s(t.product.name))]),n("span",{staticClass:"p-inventory"},[t._v("库存剩余："+t._s(t.product.showInventory))]),n("p",{staticClass:"p-price"},[t._v("¥ "+t._s(t._f("numToString")(t.product.price)))]),n("el-button",{attrs:{disabled:t.product.showInventory<=0},on:{click:function(e){return t.addToCart(t.product.id)}}},[t._v("加入购物车")])],1)},d=[],p=n("2f62"),f={name:"product",props:["product"],methods:Object(u["a"])({},Object(p["b"])(["addToCart"]))},v=f,m=(n("d99b"),n("2877")),b=Object(m["a"])(v,l,d,!1,null,null,null),C=b.exports,h={name:"productList",computed:Object(u["a"])({},Object(p["d"])({products:function(t){return t.productModule.products}})),mounted:function(){new s["a"](".swiper-container",{slidesPerView:4,effect:"coverflow",autoplay:{delay:1e3,stopOnLastSlide:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})},components:{product:C}},g=h,_=(n("3b9b"),Object(m["a"])(g,a,i,!1,null,null,null)),y=_.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.productInCart.length?n("div",{staticClass:"cart"},[n("CartHead"),n("CartContentList"),n("CartFooter")],1):t._e()},j=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-head"},[n("span",[n("el-checkbox",{attrs:{value:t.selectAllCart},on:{change:function(e){return t.selectAll(e)}}},[t._v("全选")])],1),n("span",[t._v("商品")]),n("span",[t._v("单价")]),n("span",[t._v("数量")]),n("span",[t._v("小计")]),n("span",[t._v("操作")])])},O=[],x={name:"CartHead",computed:Object(u["a"])({},Object(p["c"])(["selectAllCart"])),methods:Object(u["a"])({},Object(p["b"])(["selectAll"]))},S=x,N=(n("77c4"),Object(m["a"])(S,w,O,!1,null,null,null)),k=N.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-content-list"},t._l(t.productListInCart,(function(t){return n("CartContent",{key:t.id,attrs:{product:t}})})),1)},P=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-content",class:{active:t.product.checked}},[n("div",{staticClass:"p-use"},[n("el-checkbox",{attrs:{value:t.product.checked},on:{change:function(e){return t.redioSelect(t.product.id)}}}),n("img",{attrs:{src:t.product.imgUrl,alt:""}}),n("span",{staticClass:"p-name"},[t._v(t._s(t.product.name))])],1),n("div",{staticClass:"p-right"},[n("span",{staticClass:"p-price"},[t._v("¥ "+t._s(t._f("numToString")(t.product.price)))]),n("div",{staticClass:"p-count"},[n("el-button",{attrs:{disabled:0===t.product.number},on:{click:function(e){return t.changeNumber({id:t.product.id,value:"-"})}}},[t._v("-")]),n("input",{staticClass:"p-input",attrs:{type:"text"},domProps:{value:t.product.number},on:{change:t.handleInput}}),n("el-button",{on:{click:t.add}},[t._v("+")])],1),n("p",{staticClass:"p-total"},[t._v("¥"+t._s(t._f("numToString")(t.cartTotalPrice)))]),n("el-button",{on:{click:function(e){return t.delCart(t.product.id)}}},[t._v("删除")]),n("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[n("span",{style:{fontSize:"20px"}},[t._v("商品数量不能大于"+t._s(t.product.inventory))]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("知道了")])],1)]),n("el-dialog",{attrs:{title:"提示",visible:t.center1DialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.center1DialogVisible=e}}},[n("span",{style:{fontSize:"20px"}},[t._v("商品数量不能小于0")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.center1DialogVisible=!1}}},[t._v("知道了")])],1)])],1)])},A=[],L={name:"CartContent",props:["product"],data:function(){return{centerDialogVisible:!1,center1DialogVisible:!1}},computed:{cartTotalPrice:function(){return this.product.number*this.product.price}},methods:Object(u["a"])(Object(u["a"])({},Object(p["b"])({delCart:"delCart",changeNumber:"changeNumber",redioSelect:"redioSelect"})),{},{add:function(){0===this.product.showInventory?this.centerDialogVisible=!0:this.changeNumber({id:this.product.id,value:"+"})},handleInput:function(){var t=event.target.value;t<=0?(this.center1DialogVisible=!0,event.target.value=this.product.number):t>this.product.inventory?(this.centerDialogVisible=!0,event.target.value=this.product.number):this.changeNumber({id:this.product.id,value:event.target.value})}})},M=L,V=(n("c3f8"),Object(m["a"])(M,T,A,!1,null,null,null)),D=V.exports,$={name:"CartContentList",computed:Object(u["a"])({},Object(p["c"])(["productListInCart"])),components:{CartContent:D}},U=$,F=Object(m["a"])(U,E,P,!1,null,null,null),H=F.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-footer"},[n("div",{staticClass:"footer-left"},[n("span",[n("el-checkbox",{attrs:{value:t.selectAllCart},on:{change:function(e){return t.selectAll(e)}}},[t._v("全选")])],1),n("span",{staticClass:"p-del",on:{click:function(e){return t.delSelectedProductInCart({type:"del",selectedInCart:t.$store.state.cartModule.selectedInCart})}}},[t._v("删除选中商品")])]),n("div",{staticClass:"footer-right"},[n("span",[t._v("已选 "),n("span",{staticClass:"p-price"},[t._v(t._s(t.total.totalNum))]),t._v(" 件商品")]),n("span",{staticClass:"p-total"},[t._v("总价："),n("span",{staticClass:"p-total-price"},[t._v("¥"+t._s(t._f("numToString")(t.total.totalPrice)))])]),n("el-button",{on:{click:function(e){return t.delSelectedProductInCart({type:"pay",selectedInCart:t.$store.state.cartModule.selectedInCart})}}},[t._v("去结算")])],1)])},J=[],q={name:"CartFooter",computed:Object(u["a"])({},Object(p["c"])(["selectAllCart","total"])),methods:Object(u["a"])({},Object(p["b"])(["selectAll","delSelectedProductInCart"]))},B=q,G=(n("896d"),Object(m["a"])(B,z,J,!1,null,null,null)),K=G.exports,Q={name:"Cart",computed:Object(u["a"])({},Object(p["d"])({productInCart:function(t){return t.cartModule.productInCart}})),components:{CartHead:k,CartContentList:H,CartFooter:K}},R=Q,W=Object(m["a"])(R,I,j,!1,null,null,null),X=W.exports,Y={name:"app",components:{productList:y,Cart:X}},Z=Y,tt=(n("034f"),Object(m["a"])(Z,c,o,!1,null,null,null)),et=tt.exports,nt=(n("7db0"),n("4160"),n("caad"),n("2532"),n("159b"),function(t,e){return t.find((function(t){return t.id===e}))}),rt={state:function(){return{products:[{id:1,name:"2020夏季新款纯棉浅色水洗牛仔裤九分裤萝卜裤可调节裤脚女",price:291,showInventory:5,inventory:5,imgUrl:"https://img13.360buyimg.com/n4/s160x160_jfs/t1/114976/12/8685/225393/5ed1bfbeEe9bd5476/a444fb4719f102ea.jpg"},{id:2,name:"多功能刨丝器 ins北欧风土豆切丝擦丝器切菜切片切丁切菜神器擦丝沥水",price:29.9,showInventory:20,inventory:20,imgUrl:"https://img10.360buyimg.com/n4/s160x160_jfs/t1/119037/24/8583/203019/5ed06697E3cdd1181/be5276e705d14965.jpg"},{id:3,name:"牛仔半身裙夏2020新款短裙女高腰裙子半裙a字裙夏季牛仔裙133 蓝色-带安全裤-正品保证-送运费险 M-27（96-105斤）",price:108,showInventory:100,inventory:100,imgUrl:"https://img10.360buyimg.com/n4/s160x160_jfs/t1/88161/33/17064/157606/5e8315ddE5ccdadaf/9bf8a8457f89ff84.jpg"},{id:4,name:"昭达觉乐3层成人一次性使用医用口罩（非无菌型） 一袋10片 带熔喷层 防飞",price:13.9,showInventory:300,inventory:300,imgUrl:"https://img13.360buyimg.com/n4/s160x160_jfs/t1/121071/24/2837/110146/5ecb2816E43f42660/68f6301a3243d50b.jpg"},{id:5,name:"大码男装新款潮胖子短袖T恤男士加肥加大号肥佬圆领半袖上衣潮流时尚",price:69,showInventory:400,inventory:400,imgUrl:"https://img10.360buyimg.com/n4/s160x160_jfs/t1/25966/14/13820/134309/5ca2f4daEf2399585/c235b9e258d5ea34.jpg"},{id:6,name:"香奈儿（CHANEL）口红58豆沙色魅力炫亮哑光丝绒山茶花女士唇膏女生节日",price:178,showInventory:30,inventory:30,imgUrl:"https://img11.360buyimg.com/n4/s160x160_jfs/t1/129003/9/4507/112026/5ede66daE75a5e170/4a134a335daccd57.jpg"},{id:7,name:"男鞋春秋季真皮男士休闲皮鞋头层牛皮中老年464748码大码爸爸鞋单鞋",price:98,showInventory:10,inventory:10,imgUrl:"https://img10.360buyimg.com/n4/s160x160_jfs/t1/3039/6/9749/239251/5bc87948Ef6448ad2/0e87fb08045cf5b7.jpg"},{id:8,name:"蓝女装热卖假两件连衣裙女夏2020新款高腰显瘦气质时尚印花a字裙",price:388,showInventory:40,inventory:40,imgUrl:"https://img14.360buyimg.com/n4/s160x160_jfs/t1/143037/1/241/148210/5edf0304E81bee0ab/7166d20f97936069.jpg"}]}},mutations:{addToCart:function(t,e){nt(t.products,e).showInventory--},delCart:function(t,e){nt(t.products,e).showInventory=nt(t.products,e).inventory},changeNumber:function(t,e){"+"===e.value?nt(t.products,e.id).showInventory--:"-"===e.value?nt(t.products,e.id).showInventory++:nt(t.products,e.id).showInventory=nt(t.products,e.id).inventory-e.value},delSelectedProductInCart:function(t,e){"del"===e.type?t.products.forEach((function(t){e.selectedInCart.includes(t.id)&&(t.showInventory=t.inventory)})):t.products.forEach((function(t){e.selectedInCart.includes(t.id)&&(t.inventory=t.showInventory)}))}}},ct=rt,ot=(n("a623"),n("4de4"),n("c975"),n("d81d"),n("13d5"),n("a434"),n("ade3")),at={state:function(){return{productInCart:[],CartNum:{},selectedInCart:[]}},getters:{productListInCart:function(t,e,n){return t.productInCart.map((function(e){return Object(u["a"])(Object(u["a"])({},n.productModule.products.find((function(t){return t.id===e}))),{},{number:t.CartNum[e],checked:t.selectedInCart.includes(e)})}))},selectAllCart:function(t,e){return e.productListInCart.every((function(t){return t.checked}))},total:function(t,e){return e.productListInCart.reduce((function(t,e){return{totalNum:t.totalNum+(e.checked?e.number:0),totalPrice:t.totalPrice+(e.checked?e.number*e.price:0)}}),{totalNum:0,totalPrice:0})}},mutations:{addToCart:function(t,e){t.productInCart.includes(e)?t.CartNum[e]++:(t.productInCart.push(e),t.selectedInCart.push(e),t.CartNum=Object(u["a"])(Object(ot["a"])({},e,1),t.CartNum))},delCart:function(t,e){t.productInCart=t.productInCart.filter((function(t){return t!=e})),delete t.CartNum[e],console.log(111)},changeNumber:function(t,e){"+"===e.value?t.CartNum[e.id]++:"-"===e.value?t.CartNum[e.id]--:t.CartNum[e.id]=1*e.value},redioSelect:function(t,e){var n=t.selectedInCart.indexOf(e);n<0?t.selectedInCart.push(e):t.selectedInCart.splice(n,1)},selectAll:function(t,e){t.selectedInCart=e?t.productInCart:[]},delSelectedProductInCart:function(t,e){t.productInCart=t.productInCart.filter((function(t){return!e.selectedInCart.includes(t)})),e.selectedInCart.forEach((function(e){void 0!=t.CartNum[e]&&delete t.CartNum[e]})),t.selectedInCart=[],console.log(111)}},actions:{redioSelect:function(t,e){var n=t.commit;n("redioSelect",e)},selectAll:function(t,e){var n=t.commit;n("selectAll",e)}}},it=at;r["default"].use(p["a"]);var ut=new p["a"].Store({modules:{productModule:ct,cartModule:it},actions:{addToCart:function(t,e){var n=t.commit;n("addToCart",e)},delCart:function(t,e){var n=t.commit;n("delCart",e)},changeNumber:function(t,e){var n=t.commit;n("changeNumber",e)},delSelectedProductInCart:function(t,e){var n=t.commit;n("delSelectedProductInCart",e)}}}),st=ut,lt=(n("f4bd"),n("a7cc"),n("450d"),n("df33")),dt=n.n(lt),pt=(n("560b"),n("dcdc")),ft=n.n(pt),vt=(n("1951"),n("eedf")),mt=n.n(vt);n("55e3");r["default"].use(mt.a),r["default"].use(ft.a),r["default"].use(dt.a);n("b680");r["default"].filter("numToString",(function(t){return t.toFixed(2)})),r["default"].config.devtools=!0,r["default"].config.productionTip=!1,new r["default"]({store:st,render:function(t){return t(et)}}).$mount("#app")},"77c4":function(t,e,n){"use strict";var r=n("9a9e"),c=n.n(r);c.a},"85ec":function(t,e,n){},"896d":function(t,e,n){"use strict";var r=n("f843"),c=n.n(r);c.a},"899b":function(t,e,n){},"9a9e":function(t,e,n){},"9b3e":function(t,e,n){},c3f8:function(t,e,n){"use strict";var r=n("899b"),c=n.n(r);c.a},d99b:function(t,e,n){"use strict";var r=n("9b3e"),c=n.n(r);c.a},f843:function(t,e,n){}});
//# sourceMappingURL=app.017e3f37.js.map